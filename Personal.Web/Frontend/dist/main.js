angular.module("cec.server",["ngResource"]).factory("resourceFactory",function(o){return{getFor:function(r,t){if(t){if(!t.params)throw"config must look like this: {url: ':id', { 'id': '@id'}}"}else t={url:"",params:{}};return o("/api/"+r+"/"+t.url,t.params,{query:{method:"GET",isArray:!0},update:{method:"PUT"}})},displayFor:function(r){return o("/api/metadata/displaynames/"+r)}}}).factory("controllerFactory",function(o){return{getFor:function(o,r,t){return new function(){this.form=function(o,r,t,n){throw"Not implemented exception"},this.display=function(r,n){var e=n.displayFor(o);e.get(t,function(o){r.rowHeader=o})},this.list=function(t,n,e,i){var u=i.getFor(o,r),a=this;t.create=function(){a.form(t,n,e,i)},t.conditionEqual=function(){return!1},t.queryCondition=function(){return{}},t.editUrl=window.location.href,t.updateRows=function(){t.conditionEqual()||(Loader.Show(),u.query(t.queryCondition()||{},function(o){t.decorate&&t.decorate(o),t.rows=o,Loader.Hide()}))}}}}}});
angular.module("cec.resource",[]).directive("resource",function(e){return{link:function(r,c,n){var t=n.resource.split(/\.(.+)/);e.Get(t[0],t[1],function(e){n.resourceSelector&&(c=c.find(n.resourceSelector)),n.resourceTag?c.attr(n.resourceTag,e):c.text(e)})}}}).service("resourceService",function(e){function r(e,r){for(var c=0;c<e.length;c++){var n=e[c];if(n._key===r)return n._value}}var c={},n={},t={};this.Get=function(o,u,a){return c.hasOwnProperty(o)?void a(r(c[o],u)):n[o]?void t[o].push({callback:a,name:u}):(n[o]=!0,t[o]=[],void e.get("/api/resource/"+o).then(function(e){e=e.data,c[o]=e,a(r(e,u));for(var n=t[o],i=0;i<n.length;i++){var l=n[i];l.callback(r(e,l.name))}})["catch"](function(){a("error")})["finally"](function(){n[o]=!1}))}});
//# sourceMappingURL=maps/main.js.map